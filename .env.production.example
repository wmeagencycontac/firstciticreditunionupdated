# Production Environment Configuration for First City Credit Union Banking Platform
# Copy this file to .env.production and fill in the actual values

# ============================================================================
# ENVIRONMENT
# ============================================================================
NODE_ENV=production
PORT=3000

# ============================================================================
# SUPABASE CONFIGURATION
# ============================================================================
# Get these from your Supabase project settings
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# ============================================================================
# ENCRYPTION CONFIGURATION
# ============================================================================
# Generate a strong 64-character hex key for production:
# node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_MASTER_KEY=your-64-character-hex-encryption-key-here

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================
# API key for external service integrations
API_KEY=your-secure-api-key-here

# Comma-separated list of allowed IP addresses for admin access
# Leave empty to allow all IPs (not recommended for production)
ADMIN_ALLOWED_IPS=192.168.1.100,10.0.0.50

# Session configuration
SESSION_SECRET=your-long-random-session-secret-here
SESSION_TIMEOUT=3600000

# ============================================================================
# EMAIL CONFIGURATION (Required for OTP and notifications)
# ============================================================================
# SMTP Configuration for sending emails
SMTP_HOST=smtp.your-email-provider.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@yourdomain.com
SMTP_PASS=your-email-password-or-app-key

# Email settings
FROM_EMAIL=noreply@firstcitycu.com
FROM_NAME=First City Credit Union
SUPPORT_EMAIL=support@firstcitycu.com

# ============================================================================
# PAYMENT PROCESSING (Choose one or both)
# ============================================================================

# Moov.io Configuration (US payments)
MOOV_API_KEY=your-moov-api-key
MOOV_ACCOUNT_ID=your-moov-account-id
MOOV_WEBHOOK_SECRET=your-moov-webhook-secret
MOOV_ENVIRONMENT=production

# GoCardless Configuration (EU/UK payments)
GOCARDLESS_ACCESS_TOKEN=your-gocardless-access-token
GOCARDLESS_ENVIRONMENT=live
GOCARDLESS_WEBHOOK_SECRET=your-gocardless-webhook-secret

# ============================================================================
# FILE STORAGE CONFIGURATION
# ============================================================================
# Local file storage path for KYC documents and mobile deposits
SECURE_STORAGE_PATH=/secure/banking-data
MAX_FILE_SIZE=10485760

# Alternative: AWS S3 Configuration (if using cloud storage)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=your-banking-documents-bucket

# ============================================================================
# MONITORING AND LOGGING
# ============================================================================
# Log level: error, warn, info, debug
LOG_LEVEL=info
LOG_FILE_PATH=/var/log/banking-app/app.log

# Application monitoring
SENTRY_DSN=your-sentry-dsn-for-error-tracking

# Performance monitoring
NEW_RELIC_LICENSE_KEY=your-new-relic-license-key
NEW_RELIC_APP_NAME=First City Credit Union Banking Platform

# ============================================================================
# DATABASE BACKUP CONFIGURATION
# ============================================================================
# Supabase backup settings
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_LOCATION=s3://your-backup-bucket

# ============================================================================
# SSL/TLS CONFIGURATION
# ============================================================================
# SSL certificate paths (if not using reverse proxy)
SSL_CERT_PATH=/etc/ssl/certs/banking-app.crt
SSL_KEY_PATH=/etc/ssl/private/banking-app.key

# Force HTTPS redirect
FORCE_HTTPS=true

# ============================================================================
# COMPLIANCE AND AUDIT
# ============================================================================
# Audit log retention (in days)
AUDIT_LOG_RETENTION=2555  # 7 years for financial records

# PCI DSS compliance mode
PCI_COMPLIANCE_MODE=true

# Enable detailed transaction logging
DETAILED_TRANSACTION_LOGGING=true

# ============================================================================
# RATE LIMITING CONFIGURATION
# ============================================================================
# Rate limits per minute
RATE_LIMIT_AUTH=5
RATE_LIMIT_API=60
RATE_LIMIT_UPLOAD=10
RATE_LIMIT_GENERAL=100

# Rate limit window in minutes
RATE_LIMIT_WINDOW=15

# ============================================================================
# FEATURE FLAGS
# ============================================================================
# Enable/disable features
ENABLE_MOBILE_DEPOSIT=true
ENABLE_ACH_TRANSFERS=true
ENABLE_WIRE_TRANSFERS=false
ENABLE_CRYPTO_WALLETS=false
ENABLE_INTERNATIONAL_TRANSFERS=false

# KYC requirements
REQUIRE_SELFIE_VERIFICATION=true
REQUIRE_ADDRESS_VERIFICATION=true
REQUIRE_SSN_VERIFICATION=true

# ============================================================================
# INTEGRATION SETTINGS
# ============================================================================
# Credit reporting integration
CREDIT_REPORTING_ENABLED=false
CREDIT_REPORTING_API_KEY=your-credit-reporting-api-key

# Fraud detection service
FRAUD_DETECTION_ENABLED=true
FRAUD_DETECTION_API_KEY=your-fraud-detection-api-key

# Identity verification service (Jumio, Onfido, etc.)
ID_VERIFICATION_PROVIDER=manual
ID_VERIFICATION_API_KEY=your-id-verification-api-key

# ============================================================================
# BANKING CONFIGURATION
# ============================================================================
# Routing numbers and bank information
BANK_ROUTING_NUMBER=031100209
BANK_NAME=First City Credit Union
BANK_ADDRESS=123 Banking Street, Financial District, NY 10001

# Account limits
DAILY_WITHDRAWAL_LIMIT=500.00
DAILY_TRANSFER_LIMIT=2500.00
MONTHLY_MOBILE_DEPOSIT_LIMIT=10000.00

# Interest rates (annual percentage)
SAVINGS_INTEREST_RATE=0.5
CHECKING_INTEREST_RATE=0.1

# ============================================================================
# INSURANCE INFORMATION
# ============================================================================
FDIC_INSURED=false
NCUA_INSURED=true
INSURANCE_AMOUNT=250000
INSURANCE_CERTIFICATE_NUMBER=your-ncua-certificate-number

# ============================================================================
# NOTIFICATIONS
# ============================================================================
# Push notification service
PUSH_NOTIFICATION_ENABLED=true
FCM_SERVER_KEY=your-firebase-cloud-messaging-key

# SMS notifications (Twilio)
SMS_ENABLED=true
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# ============================================================================
# ANALYTICS
# ============================================================================
# Google Analytics for web tracking
GA_TRACKING_ID=UA-XXXXXXXXX-X

# Custom analytics endpoint
ANALYTICS_ENDPOINT=https://analytics.yourdomain.com/collect

# ============================================================================
# CDN AND STATIC ASSETS
# ============================================================================
# CDN configuration for static assets
CDN_BASE_URL=https://cdn.yourdomain.com
STATIC_ASSETS_VERSION=1.0.0

# ============================================================================
# SCHEDULED TASKS
# ============================================================================
# Interest calculation schedule (cron format)
INTEREST_CALCULATION_SCHEDULE=0 1 * * *

# Statement generation schedule
STATEMENT_GENERATION_SCHEDULE=0 3 1 * *

# Backup schedule
BACKUP_SCHEDULE=0 2 * * *

# ============================================================================
# DEVELOPMENT/TESTING (Only for staging environments)
# ============================================================================
# Enable demo/test data generation
ENABLE_DEMO_DATA=false

# Test user credentials for staging
TEST_USER_EMAIL=test@firstcitycu.com
TEST_USER_PASSWORD=TestPassword123!

# Mock payment processing
MOCK_PAYMENT_PROCESSING=false
